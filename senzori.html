<!DOCTYPE html>
<html>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />

<head>
	<script type="text/javascript" src="assets/static/js/jquery-3.3.1.min.js"></script>
    <title>Smart Farm</title>
    <style>
        #loader {
            transition: all .3s ease-in-out;
            opacity: 1;
            visibility: visible;
            position: fixed;
            height: 100vh;
            width: 100%;
            background: #fff;
            z-index: 90000
        }
        
        #loader.fadeOut {
            opacity: 0;
            visibility: hidden
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            position: absolute;
            top: calc(50% - 20px);
            left: calc(50% - 20px);
            background-color: #333;
            border-radius: 100%;
            -webkit-animation: sk-scaleout 1s infinite ease-in-out;
            animation: sk-scaleout 1s infinite ease-in-out
        }
        
        @-webkit-keyframes sk-scaleout {
            0% {
                -webkit-transform: scale(0)
            }
            100% {
                -webkit-transform: scale(1);
                opacity: 0
            }
        }
        
        @keyframes sk-scaleout {
            0% {
                -webkit-transform: scale(0);
                transform: scale(0)
            }
            100% {
                -webkit-transform: scale(1);
                transform: scale(1);
                opacity: 0
            }
        }
    </style>
    <link href="style.css" rel="stylesheet">
	<script>
window.onload = function () {

var tempMes = new CanvasJS.Chart("tempMes", {
	title: {
		text: "Temperaturu zemlje - mesečno"
	},
	axisX: {
		valueFormatString: "MMM YYYY"
	},
	axisY2: {
		title: "Temperatura",
		prefix: "",
		suffix: "°C"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 1",
		showInLegend: true,
		color: "#66ff33",
		markerSize: 0,
		yValueFormatString: "°C##.#",
		dataPoints: [		
			{ x: new Date(2019, 01, 01), y: 23.1 },
			{ x: new Date(2019, 02, 01), y: 23.2 },
			{ x: new Date(2019, 03, 01), y: 23.5 },
			{ x: new Date(2019, 04, 01), y: 24.2 },
			{ x: new Date(2019, 05, 01), y: 24.3 },
			{ x: new Date(2019, 06, 01), y: 24.7 },
			{ x: new Date(2019, 07, 01), y: 25.5 },
			{ x: new Date(2019, 08, 01), y: 26.2 },
			{ x: new Date(2019, 09, 01), y: 24.7 },
			{ x: new Date(2019, 10, 01), y: 22.9 }
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 2",
		showInLegend: true,
		markerSize: 0,
		color: "#006600",
		yValueFormatString: "°C##.#",
		dataPoints: [
			{ x: new Date(2019, 01, 01), y: 23.2 },
			{ x: new Date(2019, 02, 01), y: 23.4 },
			{ x: new Date(2019, 03, 01), y: 24.2 },
			{ x: new Date(2019, 04, 01), y: 24.5 },
			{ x: new Date(2019, 05, 01), y: 24.3 },
			{ x: new Date(2019, 06, 01), y: 25.9 },
			{ x: new Date(2019, 07, 01), y: 25.8 },
			{ x: new Date(2019, 08, 01), y: 24.9 },
			{ x: new Date(2019, 09, 01), y: 24.3 },
			{ x: new Date(2019, 10, 01), y: 23.4 }
		]
	}]
});

var vlaMes = new CanvasJS.Chart("vlaMes", {
	title: {
		text: "Vlažnosti zemlje- mesečno"
	},
	axisX: {
		valueFormatString: "MMM YYYY"
	},
	axisY2: {
		title: "Vlažnost",
		prefix: "",
		suffix: "%"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 1",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [		
			{ x: new Date(2019, 01, 01), y: 73.1 },
			{ x: new Date(2019, 02, 01), y: 73.2 },
			{ x: new Date(2019, 03, 01), y: 73.5 },
			{ x: new Date(2019, 04, 01), y: 74.2 },
			{ x: new Date(2019, 05, 01), y: 74.3 },
			{ x: new Date(2019, 06, 01), y: 74.7 },
			{ x: new Date(2019, 07, 01), y: 75.5 },
			{ x: new Date(2019, 08, 01), y: 76.2 },
			{ x: new Date(2019, 09, 01), y: 74.7 },
			{ x: new Date(2019, 10, 01), y: 72.9 }
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 2",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [
			{ x: new Date(2019, 01, 01), y: 73.2 },
			{ x: new Date(2019, 02, 01), y: 73.4 },
			{ x: new Date(2019, 03, 01), y: 74.2 },
			{ x: new Date(2019, 04, 01), y: 74.5 },
			{ x: new Date(2019, 05, 01), y: 74.3 },
			{ x: new Date(2019, 06, 01), y: 75.9 },
			{ x: new Date(2019, 07, 01), y: 75.8 },
			{ x: new Date(2019, 08, 01), y: 74.9 },
			{ x: new Date(2019, 09, 01), y: 74.3 },
			{ x: new Date(2019, 10, 01), y: 73.4 }
		]
	}]
});

var tempDne = new CanvasJS.Chart("tempDne", {
	title: {
		text: "Temperaturu zemlje - dnevno"
	},
	axisX: {
		valueFormatString: "DD MMM"
	},
	axisY2: {
		title: "Temperatura",
		prefix: "",
		suffix: "°C"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 1",
		showInLegend: true,
		color: "#66ff33",
		markerSize: 0,
		yValueFormatString: "°C##.#",
		dataPoints: [		
			{ x: new Date(2019, 10, 01), y: 23.1 },
			{ x: new Date(2019, 10, 02), y: 23.2 },
			{ x: new Date(2019, 10, 03), y: 23.5 },
			{ x: new Date(2019, 10, 04), y: 24.2 },
			{ x: new Date(2019, 10, 05), y: 24.3 },
			{ x: new Date(2019, 10, 06), y: 24.7 },
			{ x: new Date(2019, 10, 07), y: 25.5 },
			{ x: new Date(2019, 10, 08), y: 26.2 },
			{ x: new Date(2019, 10, 09), y: 24.7 },
			{ x: new Date(2019, 10, 10), y: 22.9 }
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 2",
		showInLegend: true,
		markerSize: 0,
		color: "#006600",
		yValueFormatString: "°C##.#",
		dataPoints: [
			{ x: new Date(2019, 10, 01), y: 23.2 },
			{ x: new Date(2019, 10, 02), y: 23.4 },
			{ x: new Date(2019, 10, 03), y: 24.2 },
			{ x: new Date(2019, 10, 04), y: 24.5 },
			{ x: new Date(2019, 10, 05), y: 24.3 },
			{ x: new Date(2019, 10, 06), y: 25.9 },
			{ x: new Date(2019, 10, 07), y: 25.8 },
			{ x: new Date(2019, 10, 08), y: 24.9 },
			{ x: new Date(2019, 10, 09), y: 24.3 },
			{ x: new Date(2019, 10, 10), y: 23.4 }
		]
	}]
});

var vlaDne = new CanvasJS.Chart("vlaDne", {
	title: {
		text: "Vlažnosti zemlje- dnevno"
	},
	axisX: {
		valueFormatString: "DD MMM"
	},
	axisY2: {
		title: "Vlažnost",
		prefix: "",
		suffix: "%"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 1",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [		
			{ x: new Date(2019, 10, 01), y: 73.1 },
			{ x: new Date(2019, 10, 02), y: 73.2 },
			{ x: new Date(2019, 10, 03), y: 73.5 },
			{ x: new Date(2019, 10, 04), y: 74.2 },
			{ x: new Date(2019, 10, 05), y: 74.3 },
			{ x: new Date(2019, 10, 06), y: 74.7 },
			{ x: new Date(2019, 10, 07), y: 75.5 },
			{ x: new Date(2019, 10, 08), y: 76.2 },
			{ x: new Date(2019, 10, 09), y: 74.7 },
			{ x: new Date(2019, 10, 10), y: 72.9 }
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 2",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [
			{ x: new Date(2019, 10, 01), y: 73.2 },
			{ x: new Date(2019, 10, 02), y: 73.4 },
			{ x: new Date(2019, 10, 03), y: 74.2 },
			{ x: new Date(2019, 10, 04), y: 74.5 },
			{ x: new Date(2019, 10, 05), y: 74.3 },
			{ x: new Date(2019, 10, 06), y: 75.9 },
			{ x: new Date(2019, 10, 07), y: 75.8 },
			{ x: new Date(2019, 10, 08), y: 74.9 },
			{ x: new Date(2019, 10, 09), y: 74.3 },
			{ x: new Date(2019, 10, 10), y: 73.4 }
		]
	}]
});


var tempSat = new CanvasJS.Chart("tempSat", {
	title: {
		text: "Temperaturu zemlje - časovno"
	},
	axisX: {
		valueFormatString: "HH:mm"
	},
	axisY2: {
		title: "Temperatura",
		prefix: "",
		suffix: "°C"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		color: "#66ff33",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 1",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "°C##.#",
		dataPoints: [		
			{ x: new Date(2019, 10, 01, 0, 0, 0), y: 18.9 },
			{ x: new Date(2019, 10, 01, 1, 0, 0), y: 19.1 },
			{ x: new Date(2019, 10, 01, 2, 0, 0), y: 19.2 },
			{ x: new Date(2019, 10, 01, 3, 0, 0), y: 19.3 },
			{ x: new Date(2019, 10, 01, 4, 0, 0), y: 19.9 },
			{ x: new Date(2019, 10, 01, 5, 0, 0), y: 20.2 },
			{ x: new Date(2019, 10, 01, 6, 0, 0), y: 20.9 },
			{ x: new Date(2019, 10, 01, 7, 0, 0), y: 21.3 },
			{ x: new Date(2019, 10, 01, 8, 0, 0), y: 21.9 },
			{ x: new Date(2019, 10, 01, 9, 0, 0), y: 22.2 },
			{ x: new Date(2019, 10, 01, 10, 0, 0), y: 22.4 },
			{ x: new Date(2019, 10, 01, 11, 0, 0), y: 22.9 },
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Temperatura - Senzor 2",
		showInLegend: true,
		color: "#006600",
		markerSize: 0,
		yValueFormatString: "°C##.#",
		dataPoints: [
			{ x: new Date(2019, 10, 01, 0, 0, 0), y: 19.0 },
			{ x: new Date(2019, 10, 01, 1, 0, 0), y: 19.2 },
			{ x: new Date(2019, 10, 01, 2, 0, 0), y: 19.3 },
			{ x: new Date(2019, 10, 01, 3, 0, 0), y: 19.5 },
			{ x: new Date(2019, 10, 01, 4, 0, 0), y: 20.0 },
			{ x: new Date(2019, 10, 01, 5, 0, 0), y: 20.3 },
			{ x: new Date(2019, 10, 01, 6, 0, 0), y: 20.9 },
			{ x: new Date(2019, 10, 01, 7, 0, 0), y: 21.4 },
			{ x: new Date(2019, 10, 01, 8, 0, 0), y: 22.0 },
			{ x: new Date(2019, 10, 01, 9, 0, 0), y: 22.2 },
			{ x: new Date(2019, 10, 01, 10, 0, 0), y: 22.5 },
			{ x: new Date(2019, 10, 01, 11, 0, 0), y: 22.8 },
		]
	}]
});

var vlaSat = new CanvasJS.Chart("vlaSat", {
	title: {
		text: "Vlažnosti zemlje- časovno"
	},
	axisX: {
		valueFormatString: "HH:mm"
	},
	axisY2: {
		title: "Vlažnost",
		prefix: "",
		suffix: "%"
	},
	toolTip: {
		shared: true
	},
	legend: {
		cursor: "pointer",
		verticalAlign: "top",
		horizontalAlign: "center",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type:"line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 1",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [	
			{ x: new Date(2019, 10, 01, 1, 0, 0), y: 72.1 },
			{ x: new Date(2019, 10, 01, 2, 0, 0), y: 73.1 },
			{ x: new Date(2019, 10, 01, 3, 0, 0), y: 73.2 },
			{ x: new Date(2019, 10, 01, 4, 0 ,0), y: 73.5 },
			{ x: new Date(2019, 10, 01, 5, 0, 0), y: 74.2 },
			{ x: new Date(2019, 10, 01, 6, 0, 0), y: 74.3 },
			{ x: new Date(2019, 10, 01, 7, 0, 0), y: 74.7 },
			{ x: new Date(2019, 10, 01, 8, 0, 0), y: 75.5 },
			{ x: new Date(2019, 10, 01, 9, 0, 0), y: 76.2 },
			{ x: new Date(2019, 10, 01, 10, 0, 0), y: 74.7 },
			{ x: new Date(2019, 10, 01, 11, 0, 0), y: 72.9 }
		]
	},
	{
		type: "line",
		axisYType: "secondary",
		name: "Vlažnost - Senzor 2",
		showInLegend: true,
		markerSize: 0,
		yValueFormatString: "#,##%",
		dataPoints: [
			{ x: new Date(2019, 10, 01, 1, 0, 0), y: 73.2 },
			{ x: new Date(2019, 10, 01, 2, 0, 0), y: 73.4 },
			{ x: new Date(2019, 10, 01, 3, 0, 0), y: 74.2 },
			{ x: new Date(2019, 10, 01, 4, 0 ,0), y: 74.5 },
			{ x: new Date(2019, 10, 01, 5, 0, 0), y: 74.3 },
			{ x: new Date(2019, 10, 01, 6, 0, 0), y: 75.9 },
			{ x: new Date(2019, 10, 01, 7, 0, 0), y: 75.8 },
			{ x: new Date(2019, 10, 01, 8, 0, 0), y: 74.9 },
			{ x: new Date(2019, 10, 01, 9, 0, 0), y: 74.3 },
			{ x: new Date(2019, 10, 01, 10, 0, 0), y: 73.4 },
			{ x: new Date(2019, 10, 01, 11, 0, 0), y: 72.9 }
		]
	}]
});
tempMes.render();
vlaMes.render();
tempDne.render();
vlaDne.render();
tempSat.render();
vlaSat.render();


function toogleDataSeries(e){
	if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	} else{
		e.dataSeries.visible = true;
	}
	tempMes.render();
	vlaMes.render();
	tempDne.render();
	vlaDne.render();
	tempSat.render();
	vlaSat.render();
}
var broj_akcija = localStorage.length;

$("#povecajTemperaturu").click(function () {

	var length = tempSat.options.data[0].dataPoints.length;
	
	var length2 = vlaSat.options.data[0].dataPoints.length;
	
	//chart.options.title.text = "New DataPoint Added at the end";
	x = tempSat.options.data[0].dataPoints[length-1];
	x1 = tempSat.options.data[1].dataPoints[length-1];
	
	x2 = vlaSat.options.data[0].dataPoints[length2-1];
	x3 = vlaSat.options.data[1].dataPoints[length2-1];
	
	novaTemp = x.y + Math.random() * 0.5;
	noviDan = new Date(x.x.getTime() + 60*60*1000);
	
	novaTemp1 = x1.y + Math.random() * 0.5;
	
	novaVlaz = x2.y - Math.random() * 0.3;
	
	novaVlaz1 = x3.y - Math.random() * 0.3;
	
	tempSat.options.data[0].dataPoints.push({ x: noviDan, y: novaTemp});
	tempSat.options.data[1].dataPoints.push({ x: noviDan, y: novaTemp1});
	
	vlaSat.options.data[0].dataPoints.push({ x: noviDan, y: novaVlaz});
	vlaSat.options.data[1].dataPoints.push({ x: noviDan, y: novaVlaz1});
	
	var getKomanda = "komanda"+broj_akcija;
	broj_akcija++;
	
	var akcija = {"naziv":"povecajTemperaturu", "vreme":noviDan,  "novaTemp":novaTemp, "novaTemp1": novaTemp1, "novaVlaz":novaVlaz, "novaVlaz1":novaVlaz1, "AI":"0"};
	localStorage.setItem(getKomanda, JSON.stringify(akcija));
	
	tempSat.render();
	vlaSat.render();

	});

	$("#umanjiTemperaturu").click(function () {

	var length = tempSat.options.data[0].dataPoints.length;
	
	var length2 = vlaSat.options.data[0].dataPoints.length;
	
	//chart.options.title.text = "New DataPoint Added at the end";
	x = tempSat.options.data[0].dataPoints[length-1];
	x1 = tempSat.options.data[1].dataPoints[length-1];
	
	x2 = vlaSat.options.data[0].dataPoints[length2-1];
	x3 = vlaSat.options.data[1].dataPoints[length2-1];
	
	novaTemp = x.y - Math.random() * 0.5;
	noviDan = new Date(x.x.getTime() + 60*60*1000);
	
	novaTemp1 = x1.y - Math.random() * 0.5;
	
	novaVlaz = x2.y +  Math.random() * 0.3;
	
	novaVlaz1 = x3.y + Math.random() * 0.3;
	
	tempSat.options.data[0].dataPoints.push({ x: noviDan, y: novaTemp});
	tempSat.options.data[1].dataPoints.push({ x: noviDan, y: novaTemp1});
	
	vlaSat.options.data[0].dataPoints.push({ x: noviDan, y: novaVlaz});
	vlaSat.options.data[1].dataPoints.push({ x: noviDan, y: novaVlaz1});
	
	var getKomanda = "komanda"+broj_akcija;
	broj_akcija++;
	
	var akcija = {"naziv":"umanjiTemperaturu", "vreme":noviDan,  "novaTemp":novaTemp, "novaTemp1": novaTemp1, "novaVlaz":novaVlaz, "novaVlaz1":novaVlaz1, "AI":"0"};
	localStorage.setItem(getKomanda, JSON.stringify(akcija));
	
	tempSat.render();
	vlaSat.render();

	});
	
	$("#povecajVlaznost").click(function () {

	var length = tempSat.options.data[0].dataPoints.length;
	
	var length2 = vlaSat.options.data[0].dataPoints.length;
	
	//chart.options.title.text = "New DataPoint Added at the end";
	x = tempSat.options.data[0].dataPoints[length-1];
	x1 = tempSat.options.data[1].dataPoints[length-1];
	
	x2 = vlaSat.options.data[0].dataPoints[length2-1];
	x3 = vlaSat.options.data[1].dataPoints[length2-1];
	
	novaTemp = x.y - Math.random() * 0.3;
	noviDan = new Date(x.x.getTime() + 60*60*1000);
	
	novaTemp1 = x1.y - Math.random() * 0.3;
	
	novaVlaz = x2.y + Math.random() * 0.5;
	
	novaVlaz1 = x3.y + Math.random() * 0.5;
	
	tempSat.options.data[0].dataPoints.push({ x: noviDan, y: novaTemp});
	tempSat.options.data[1].dataPoints.push({ x: noviDan, y: novaTemp1});
	
	vlaSat.options.data[0].dataPoints.push({ x: noviDan, y: novaVlaz});
	vlaSat.options.data[1].dataPoints.push({ x: noviDan, y: novaVlaz1});
	
	var getKomanda = "komanda"+broj_akcija;
	broj_akcija++;
	
	var akcija = {"naziv":"povecajVlaznost", "vreme":noviDan,  "novaTemp":novaTemp, "novaTemp1": novaTemp1, "novaVlaz":novaVlaz, "novaVlaz1":novaVlaz1, "AI":"0"};
	localStorage.setItem(getKomanda, JSON.stringify(akcija));
	
	tempSat.render();
	vlaSat.render();

	});

	$("#umanjiVlaznost").click(function () {

	var length = tempSat.options.data[0].dataPoints.length;
	
	var length2 = vlaSat.options.data[0].dataPoints.length;
	
	//chart.options.title.text = "New DataPoint Added at the end";
	x = tempSat.options.data[0].dataPoints[length-1];
	x1 = tempSat.options.data[1].dataPoints[length-1];
	
	x2 = vlaSat.options.data[0].dataPoints[length2-1];
	x3 = vlaSat.options.data[1].dataPoints[length2-1];
	
	novaTemp = x.y + Math.random() * 0.3;
	noviDan = new Date(x.x.getTime() + 60*60*1000);
	
	novaTemp1 = x1.y + Math.random() * 0.3;
	
	novaVlaz = x2.y - Math.random() * 0.5;
	
	novaVlaz1 = x3.y - Math.random() * 0.5;
	
	tempSat.options.data[0].dataPoints.push({ x: noviDan, y: novaTemp});
	tempSat.options.data[1].dataPoints.push({ x: noviDan, y: novaTemp1});
	
	vlaSat.options.data[0].dataPoints.push({ x: noviDan, y: novaVlaz});
	vlaSat.options.data[1].dataPoints.push({ x: noviDan, y: novaVlaz1});
	
	var getKomanda = "komanda"+broj_akcija;
	broj_akcija++;
	
	var akcija = {"naziv":"umanjiVlaznost", "vreme":noviDan,  "novaTemp":novaTemp, "novaTemp1": novaTemp1, "novaVlaz":novaVlaz, "novaVlaz1":novaVlaz1, "AI":"0"};
	localStorage.setItem(getKomanda, JSON.stringify(akcija));
	
	tempSat.render();
	vlaSat.render();

	});
	
	//setInterval(function(){updateChart()}, 2000);
}


function postavi(x){

	if(x == "mes"){
		document.getElementById("canvasMes").style.display = "";
		document.getElementById("canvasDne").style.display = "none";
		document.getElementById("canvasSat").style.display = "none";
	}else if(x == "dne"){
		document.getElementById("canvasDne").style.display = "";
		document.getElementById("canvasMes").style.display = "none";
		document.getElementById("canvasSat").style.display = "none";
	}else if (x == "sat"){
		document.getElementById("canvasSat").style.display = "";
		document.getElementById("canvasMes").style.display = "none";
		document.getElementById("canvasDne").style.display = "none";
	}
	
}

	var timer = null;
	
	function startAI(){
		var x = Math.random()*4;
		if(x < 1){
			document.getElementById("povecajTemperaturu").click();
		}
		else if(x <2){
			document.getElementById("umanjiTemperaturu").click();
		}
		else if(x <3){
			document.getElementById("povecajVlaznost").click();
		}
		else{
			document.getElementById("umanjiVlaznost").click();
		}
		
		var len = localStorage.length;
		var getKomanda = "komanda" + (len - 1);
		
		var obj = localStorage.getItem(getKomanda);
		obj = JSON.parse(obj);
		obj.AI = "1";
		localStorage.setItem(getKomanda, JSON.stringify(obj));
		
		var retrievedObject = localStorage.getItem(getKomanda);

		//console.log(getKomanda, JSON.parse(retrievedObject));

		timer = setTimeout(startAI, 2000);
	
	}
	
	function stopAI(){
		// localStorage.clear();
		clearTimeout(timer);
		timer = null;
	}
	
</script>
</head>

<body class="app">
    <div id="loader">
        <div class="spinner"></div>
    </div>
    <script type="text/javascript">
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            setTimeout(() => {
                loader.classList.add('fadeOut');
            }, 300);
        });
    </script>
    <div>
        <div class="sidebar">
            <div class="sidebar-inner">
                <div class="sidebar-logo">
                    <div class="peers ai-c fxw-nw">
                        <div class="peer peer-greed">
                            <a class="sidebar-link td-n" href="index.html" class="td-n">
                                <div class="peers ai-c fxw-nw">
                                    <div class="peer">
                                        <div class="logo"><img height="90px" width="100px" src="assets/static/images/logo.png" alt="logo"></div>
                                    </div>
                                    <div class="peer peer-greed">
                                        <h5 class="lh-1 mB-0 logo-text">Smart Farm</h5></div>
                                </div>
                            </a>
                        </div>
                        <div class="peer">
                            <div class="mobile-toggle sidebar-toggle"><a href="#" class="td-n"><i class="ti-arrow-circle-left"></i></a></div>
                        </div>
                    </div>
                </div>
                <ul class="sidebar-menu scrollable pos-r">
                    <li class="nav-item mT-30 active"><a class="sidebar-link" href="index.html" default><span class="icon-holder"><i class="c-blue-500 ti-home"></i> </span><span class="title">Moja farma</span></a></li>
                    <li class="nav-item"><a class="sidebar-link" href="calendar.html"><span class="icon-holder"><i class="c-deep-orange-500 ti-user"></i> </span><span class="title">Profil</span></a></li>
					<li class="nav-item"><a class="sidebar-link" href="email.html"><span class="icon-holder"><i class="c-brown-500 ti-layout-list-thumb"></i> </span><span class="title">Proizvodi</span></a></li>
					<li class="nav-item"><a class = "sidebar-link" href = "senzori.html"><span class = "icon-holder"><i class = "c-green-500 ti-pie-chart"></i></span><span class = "title">Senzori</span></a></li></li>
					<li class="nav-item"><a class = "sidebar-link" href = "istorija.html"><span class = "icon-holder"><i class = "c-green-500 ti-bookmark"></i></span><span class = "title">Istorija</span></a></li></li>
				</ul>
            </div>
        </div>
        <div class="page-container">
            <div class="header navbar">
                <div class="header-container">
                    <ul class="nav-left">
                        <li><a id="sidebar-toggle" class="sidebar-toggle" href="javascript:void(0);"><i class="ti-menu"></i></a></li>
                    </ul>
                    <ul class="nav-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle no-after peers fxw-nw ai-c lh-1" data-toggle="dropdown">
                                <div class="peer mR-10"><img class="w-2r bdrs-50p" src="./assets/static/images/portraits/men/10.jpg" alt=""></div>
                                <div class="peer"><span class="fsz-sm c-grey-900">Tony Stark</span></div>
                            </a>
                            <ul class="dropdown-menu fsz-sm">
                                <li><a href="#" class="d-b td-n pY-5 bgcH-grey-100 c-grey-700"><i class="ti-settings mR-10"></i> <span>Podešavanja</span></a></li>
                                <li><a href="#" class="d-b td-n pY-5 bgcH-grey-100 c-grey-700"><i class="ti-user mR-10"></i> <span>Profil</span></a></li>
                                <li role="separator" class="divider"></li>
                                <li><a href="#" class="d-b td-n pY-5 bgcH-grey-100 c-grey-700"><i class="ti-power-off mR-10"></i> <span>Izloguj se</span></a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <main class="main-content bgc-grey-100">
                <div id="mainContent">
					<div class ="row" >
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
						<div class="col-sm-6 mt-3 mr-0 ml-0"  >
							<img src = "assets/static/images/farm_picture_cropped.png" alt = "tvojaFarma" />
						</div>
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
					</div>
					
					<div class ="row" >
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
						<div class="col-sm-6 mt-3 mr-0 ml-0"  align = "center" >
							Odaberite pregled senzora:
						</div>
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
					</div>
					
					<div class ="row" >
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
						<div class="col-sm-2 mt-3 mr-0 ml-0"  align = "center">
							<button type = "button" class = "btn btn-info" onclick = 'postavi("sat")'>Časovni</button>
						</div>
						<div class="col-sm-2 mt-3 mr-0 ml-0"  align = "center">
							<button type = "button" class = "btn btn-info" onclick = 'postavi("dne")'>Dnevni</button>
						</div>
						<div class="col-sm-2 mt-3 mr-0 ml-0"  align = "center">
							<button type = "button" class = "btn btn-info" onclick = 'postavi("mes")'>Mesečni</button>
						</div>
						<div class="col-sm-3 mt-3 mr-0 ml-0"  >&nbsp;</div>
					</div>
					<div class = "row" id = "canvasSat" style = "display:show;">
						<div class="col-sm-6 mt-3 mr-0 ml-0" >
							<div id="tempSat" style=" height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
						<div class="col-sm-6 mt-3">
							<div id="vlaSat" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
						
						<div class="col-sm-1 mt-3" >
							&nbsp;
						</div>
						<div class="col-sm-2 mt-3" align = "center">
							<button class = "btn btn-primary" id="povecajTemperaturu">Povecaj temperaturu</button>
						</div>
						<div class="col-sm-2 mt-3" align = "center">
							<button class = "btn btn-secondary" id="umanjiTemperaturu">Umanji temperaturu</button>
						</div>
						<div class="col-sm-2 mt-3" align = "center">
								<button class = "btn btn-success" onclick = "startAI()">start AI</button>
								<button class = "btn btn-light" onclick = "stopAI()">stop AI</button>
						</div>
						<div class="col-sm-2 mt-3" align = "center">
							<button class = "btn btn-dark" id="povecajVlaznost">Povecaj vlaznost</button>
						</div>
						<div class="col-sm-2 mt-3" align = "center">
							<button class = "btn btn-danger" id="umanjiVlaznost">Umanji vlaznost</button>
						</div>
						<div class="col-sm-1 mt-3" >
							&nbsp;
						</div>
						
					</div>
					<div class = "row" id = "canvasDne" style = "display:none;">
						<div class="col-sm-6 mt-3 mr-0 ml-0" >
							<div id="tempDne" style=" height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
						<div class="col-sm-6 mt-3">
							<div id="vlaDne" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
					</div>
					<div class = "row" id = "canvasMes" style = "display:none;">
						<div class="col-sm-6 mt-3 mr-0 ml-0" >
							<div id="tempMes" style=" height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
						<div class="col-sm-6 mt-3">
							<div id="vlaMes" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>
						</div>
					</div>
					
			   </div>
            </main>
            <footer class="bdT ta-c p-30 lh-0 fsz-sm c-grey-600"><span>Copyright © 2018 Designed by SmartFarm. All rights reserved.</span>
            </footer>
        </div>
    </div>
    <script type="text/javascript" src="vendor.js"></script>
    <script type="text/javascript" src="bundle.js"></script>
	<script src="assets/static/js/canvasjs.min.js"></script>
</body>
</html>